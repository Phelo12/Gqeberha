@using GqeberhaClinic.Models
@model GqeberhaClinic.Models.Records
@using Microsoft.AspNetCore.Identity
@using GqeberhaClinic.Areas.Identity.Data
@inject SignInManager<GqebheraUser> SignInManager
@inject UserManager<GqebheraUser> UserManager
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Walk-In.cshtml";
}


<div id="Header" class="text-center bg-primary p-2 m-1">
    <h4 class="text-white">Medical File Reports</h4>
</div>

<button id="btnPrint" class="btn btn-primary">
    Generate report
</button>
<div id="Information" class="row">
    <div class="col-8">
        <img src="~/logos/2.png" style="width:200px" />
        <p class="mt-3">Date of Report: @ViewBag.Date</p>
        <p class="mt-3">Time of Report: @ViewBag.Time</p>
    </div>
    <div class="col-4 justify-content-md-end">
        <h4>Nurse Information</h4>
        <p>First Name: @UserManager.GetUserAsync(User).Result.FirstName</p>
        <p>Last Name: @UserManager.GetUserAsync(User).Result.LastName</p>
        <p>Email Address: @UserManager.GetUserAsync(User).Result.Email</p>
    </div>
</div>
<h3 class="text-center">List of all Sessions</h3>
<table id="REeport" class="table">
    <thead class="table table-stripped">
        <tr>
            <th>
                Patient Full Name
            </th>
            <th>
                Gender
            </th>
            <th>
                BirthDate
            </th>
            <th>
                IDNumber
            </th>
            <th>
                AddressLine1
            </th>
            <th>
                EmergencyPerson
            </th>
            <th>
                EmergencyContactNo
            </th>

            

        </tr>
    </thead>
    <tbody>
        @foreach (Medical_File item in ViewBag.Files)
        {
            <tr>
                <td>
                    @item.mainUser.FirstName
                    @item.mainUser.LastName
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Gender)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.BirthDate)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.IDNumber)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.AddressLine1)
                </td>

                <td>
                    @Html.DisplayFor(modelItem => item.EmergencyPerson)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.EmergencyContactNo)
                
            </tr>
        }
    </tbody>
</table>
